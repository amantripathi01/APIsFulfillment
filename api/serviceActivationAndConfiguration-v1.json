{"openapi":"3.0.1","info":{"title":"Service Activation And Configuration","version":"1.2.0"},"tags":[{"name":"Configuration"},{"name":"Notification"}],"paths":{"/configuration":{"post":{"tags":["Configuration"],"summary":"Activation and Configuration Service Opening","operationId":"Activation and Configuration Service Opening","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/configurationRequest"},"examples":{"Configure Service To Wifi Enable":{"value":{"configuration":{"action":{"type":"HGW_WIFI_ENABLE","parameters":{"frequencyBand":"2.4GHz"}},"customer":{"subscriberId":"SVTAL001"}}}},"Configure Service To Wifi Disable":{"value":{"configuration":{"action":{"type":"HGW_WIFI_DISABLE","parameters":{"frequencyBand":"2.4GHz"}},"customer":{"subscriberId":"SVTAL001"}}}},"Configure Service To Wifi Set Password":{"value":{"configuration":{"action":{"type":"HGW_WIFI_SET_PASSWD","parameters":{"wifiIndex":1,"passwd":"cris621358","mode":"WPAand11i"}},"customer":{"subscriberId":"SVTAL001"}}}},"Configure Service To Wifi Configuration":{"value":{"configuration":{"action":{"type":"HGW_WIFI_CONFIGURATION","parameters":{"SSID":"RMG2Go","broadcastSSID":1,"wifiChannel":1,"wifiIndex":1,"mode":"WPAand11i"}},"customer":{"subscriberId":"SVTAL001"}}}},"Configure Service to GPON ONT RESET":{"value":{"configuration":{"action":{"type":"GPON_ONT_RESET"},"customer":{"subscriberId":"SVTAL001"}}}}}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/configurationResponse"},"example":{"control":{"type":"S","code":200,"message":"OK"},"configuration":{"id":"78c3ad32-6546-427b-9770-5da5f917277f"}}}}},"400":{"$ref":"#/components/responses/BadRequest"},"401":{"$ref":"#/components/responses/Unauthorized"},"403":{"$ref":"#/components/responses/Forbidden"},"404":{"$ref":"#/components/responses/NotFound"},"429":{"$ref":"#/components/responses/TooManyRequests"},"500":{"$ref":"#/components/responses/ServerError"},"503":{"$ref":"#/components/responses/Unavailable"},"504":{"$ref":"#/components/responses/Timeout"}}}},"/listener/configurationResultEvent":{"post":{"tags":["Notification"],"summary":"Configuration Result Event","operationId":"Configuration Result Event","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/notificationEvent"},"examples":{"Notification state:INTERNAL_FAULT code:NOK type:HGW_WIFI_CONFIGURATION":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"date":"2021-11-25T18:31:06.857-03:00","configuration":{"id":"1a1befab-e705-41af-828b-d171573c9718","type":"HGW_WIFI_CONFIGURATION","startDate":"2021-11-25T19:31:06-02","endDate":"2021-11-25T19:31:06-02","state":"INTERNAL_FAULT","diagnostic":{"code":"NOK","messages":""}}}}},"Notification state:INTERNAL_FAULT code:NOK type:HGW_WIFI_SET_PASSWD":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"date":"2021-11-25T18:31:06.857-03:00","configuration":{"id":"1a1befab-e705-41af-828b-d171573c9718","type":"HGW_WIFI_SET_PASSWD","startDate":"2021-11-25T19:31:06-02","endDate":"2021-11-25T19:31:06-02","state":"INTERNAL_FAULT","diagnostic":{"code":"NOK","messages":""}}}}},"Notification state:INTERNAL_FAULT code:NOK type:HGW_WIFI_ENABLE":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"date":"2021-11-25T18:31:06.857-03:00","configuration":{"id":"1a1befab-e705-41af-828b-d171573c9718","type":"HGW_WIFI_ENABLE","startDate":"2021-11-25T19:31:06-02","endDate":"2021-11-25T19:31:06-02","state":"INTERNAL_FAULT","diagnostic":{"code":"NOK","messages":""}}}}},"Notification state:INTERNAL_FAULT code:NOK type:HGW_WIFI_DISABLE":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"date":"2021-11-25T18:31:06.857-03:00","configuration":{"id":"1a1befab-e705-41af-828b-d171573c9718","type":"HGW_WIFI_DISABLE","startDate":"2021-11-25T19:31:06-02","endDate":"2021-11-25T19:31:06-02","state":"INTERNAL_FAULT","diagnostic":{"code":"NOK","messages":""}}}}},"Notification state:INTERNAL_FAULT code:NOK type:GPON_ONT_RESET":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"date":"2021-11-25T18:31:06.857-03:00","configuration":{"id":"1a1befab-e705-41af-828b-d171573c9718","type":"GPON_ONT_RESET","startDate":"2021-11-25T19:31:06-02","endDate":"2021-11-25T19:31:06-02","state":"INTERNAL_FAULT","diagnostic":{"code":"NOK","messages":""}}}}},"Notification state:FINISHED code:OK type:HGW_WIFI_CONFIGURATION":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"date":"2021-11-25T16:50:41.806-03:00","configuration":{"id":"96070797-c019-45e1-ac42-48a4a76022bb","type":"HGW_WIFI_CONFIGURATION","startDate":"2021-11-25T17:50:39-02","endDate":"2021-11-25T17:50:41-02","state":"FINISHED","diagnostic":{"code":"OK","messages":""}}}}},"Notification state:FINISHED code:OK type:HGW_WIFI_SET_PASSWD":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"date":"2021-11-25T16:50:41.806-03:00","configuration":{"id":"96070797-c019-45e1-ac42-48a4a76022bb","type":"HGW_WIFI_SET_PASSWD","startDate":"2021-11-25T17:50:39-02","endDate":"2021-11-25T17:50:41-02","state":"FINISHED","diagnostic":{"code":"OK","messages":""}}}}},"Notification state:FINISHED code:OK type:HGW_WIFI_ENABLE":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"date":"2021-11-25T16:50:41.806-03:00","configuration":{"id":"96070797-c019-45e1-ac42-48a4a76022bb","type":"HGW_WIFI_ENABLE","startDate":"2021-11-25T17:50:39-02","endDate":"2021-11-25T17:50:41-02","state":"FINISHED","diagnostic":{"code":"OK","messages":""}}}}},"Notification state:FINISHED code:OK type:HGW_WIFI_DISABLE":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"date":"2021-11-25T16:50:41.806-03:00","configuration":{"id":"96070797-c019-45e1-ac42-48a4a76022bb","type":"HGW_WIFI_DISABLE","startDate":"2021-11-25T17:50:39-02","endDate":"2021-11-25T17:50:41-02","state":"FINISHED","diagnostic":{"code":"OK","messages":""}}}}},"Notification state:FINISHED code:OK type:GPON_ONT_RESET":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"date":"2021-11-25T16:50:41.806-03:00","configuration":{"id":"96070797-c019-45e1-ac42-48a4a76022bb","type":"GPON_ONT_RESET","startDate":"2021-11-25T17:50:39-02","endDate":"2021-11-25T17:50:41-02","state":"FINISHED","diagnostic":{"code":"OK","messages":""}}}}},"Notification state:REJECTED code:(vazio) type:HGW_WIFI_CONFIGURATION":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"date":"2021-11-25T16:53:31.305-03:00","configuration":{"id":"6cf7f615-54b0-4a92-af8d-aea38ee549c1","type":"HGW_WIFI_CONFIGURATION","startDate":"2021-11-25T17:53:29-02","endDate":"2021-11-25T17:53:30-02","state":"REJECTED","diagnostic":{"code":"","messages":""}}}}},"Notification state:REJECTED code:(vazio) type:HGW_WIFI_SET_PASSWD":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"date":"2021-11-25T16:53:31.305-03:00","configuration":{"id":"6cf7f615-54b0-4a92-af8d-aea38ee549c1","type":"HGW_WIFI_SET_PASSWD","startDate":"2021-11-25T17:53:29-02","endDate":"2021-11-25T17:53:30-02","state":"REJECTED","diagnostic":{"code":"","messages":""}}}}},"Notification state:REJECTED code:(vazio) type:HGW_WIFI_ENABLE":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"date":"2021-11-25T16:53:31.305-03:00","configuration":{"id":"6cf7f615-54b0-4a92-af8d-aea38ee549c1","type":"HGW_WIFI_ENABLE","startDate":"2021-11-25T17:53:29-02","endDate":"2021-11-25T17:53:30-02","state":"REJECTED","diagnostic":{"code":"","messages":""}}}}},"Notification state:REJECTED code:(vazio) type:HGW_WIFI_DISABLE":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"date":"2021-11-25T16:53:31.305-03:00","configuration":{"id":"6cf7f615-54b0-4a92-af8d-aea38ee549c1","type":"HGW_WIFI_DISABLE","startDate":"2021-11-25T17:53:29-02","endDate":"2021-11-25T17:53:30-02","state":"REJECTED","diagnostic":{"code":"","messages":""}}}}},"Notification state:REJECTED code:(vazio) type:GPON_ONT_RESET":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"date":"2021-11-25T16:53:31.305-03:00","configuration":{"id":"6cf7f615-54b0-4a92-af8d-aea38ee549c1","type":"GPON_ONT_RESET","startDate":"2021-11-25T17:53:29-02","endDate":"2021-11-25T17:53:30-02","state":"REJECTED","diagnostic":{"code":"","messages":""}}}}}}}}},"responses":{"204":{"description":"Success"},"400":{"description":"BadRequest"},"401":{"description":"Unauthorized"},"500":{"description":"ServerError"},"503":{"description":"Unavailable"},"504":{"description":"Timeout"}}}}},"components":{"schemas":{"control":{"type":"object","properties":{"type":{"type":"string","description":"Tipo da mensagem de retorno. (S - Sucesso, T - Erro Técnico, E - Erro)","enum":["S","T","E"]},"message":{"type":"string","description":"Descrição da mensagem de retorno."},"code":{"type":"string","description":"Codigo de Retorno."}}},"configurationRequest":{"$ref":"#/components/schemas/configurationType"},"configurationResponse":{"type":"object","properties":{"control":{"$ref":"#/components/schemas/control"},"configuration":{"$ref":"#/components/schemas/configurationType"}}},"notificationEvent":{"type":"object","properties":{"notification":{"$ref":"#/components/schemas/notificationType"}}},"configurationType":{"properties":{"configuration":{"type":"object","properties":{"action":{"type":"object","required":["type"],"properties":{"type":{"type":"string","description":"Tipo de configuração","enum":["HGW_WIFI_ENABLE","HGW_WIFI_DISABLE","HGW_WIFI_SET_PASSWD","HGW_WIFI_CONFIGURATION","GPON_ONT_RESET"],"maxLength":30},"parameters":{"$ref":"#/components/schemas/parametersType"}}},"customer":{"$ref":"#/components/schemas/customerType"},"id":{"type":"string","description":"Id da solicitação","maxLength":255},"adminStatus":{"type":"string","description":"Habilitar/desabilitar o SSID","maxLength":20,"enum":["0","1"]},"startDate":{"type":"string","format":"date-time","description":"Data do ínicio do processamento","maxLength":25},"endDate":{"type":"string","format":"date-time","description":"Data do término do processamento","maxLength":25},"state":{"type":"string","description":"Status do processamento","maxLength":255},"diagnostic":{"$ref":"#/components/schemas/diagnosticType"}}}}},"customerType":{"properties":{"customer":{"type":"object","required":["subscriberId"],"properties":{"subscriberId":{"type":"string","description":"Número do Contrato do cliente.","maxLength":30}}}}},"parametersType":{"properties":{"parameters":{"type":"object","properties":{"frequencyBand":{"type":"string","description":"Frequencia da rede wifi","maxLength":255},"wifiWPAKey":{"type":"string","description":"Chave WPA","maxLength":255},"wifiIndex":{"type":"string","description":"Index de posição da rede wifi","maxLength":255},"SSID":{"type":"string","description":"Nome da rede wifi","maxLength":255},"passwd":{"type":"string","description":"Senha da rede wifi","maxLength":255},"broadcastSSID":{"type":"string","description":"Indicador se a rede está ou não visível","maxLength":255},"wifiChannel":{"type":"string","description":"Canal da rede wifi","maxLength":255},"mode":{"type":"string","description":"Modo de criptografia da rede wifi, este campo é obrigatório para os casos de alteração no modo de encriptação","maxLength":255,"enum":["WPAand11i","Basic","11i"]}}}}},"notificationType":{"properties":{"notification":{"type":"object","properties":{"customer":{"$ref":"#/components/schemas/customerType"},"date":{"type":"string","description":"Data da notificação"},"configuration":{"$ref":"#/components/schemas/configurationType"}}}}},"diagnosticType":{"properties":{"diagnostic":{"type":"object","properties":{"code":{"type":"string","description":"Status da solicitação"},"messages":{"type":"object","properties":{"message":{"type":"array","items":{"type":"string","properties":{"errorCode":{"type":"string","description":"Código de erro da solicitação","maxLength":255},"description":{"type":"string","description":"Descrição do erro","maxLength":255},"criticity":{"type":"string","description":"Nível de criticidade do erro","maxLength":255}}}}}}}}}}},"responses":{"BadRequest":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"example":{"control":{"type":"E","code":400,"message":"Bad Request"}}}}},"Unauthorized":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"example":{"control":{"type":"E","code":401,"message":"Unauthorized"}}}}},"Forbidden":{"description":"Forbidden - Scope Not Permitted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"examples":{"Invalid or expired credentials":{"value":{"control":{"type":"E","code":403,"message":"Forbidden - Scope Not Permitted"}}},"Unauthorized credentials":{"value":{"control":{"type":"E","code":403,"message":"Aplicação não autorizada ou não informada!"}}}}}}},"NotFound":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"example":{"control":{"type":"E","code":404,"message":"Not Found"}}}}},"TooManyRequests":{"description":"Too Many Requests - Exceeded Quota","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"example":{"control":{"type":"E","code":429,"message":"Too Many Requests - Exceeded Quota"}}}}},"ServerError":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"example":{"control":{"type":"T","code":500,"message":"Internal Server Error"}}}}},"Unavailable":{"description":"Service Unavailable","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"example":{"control":{"type":"T","code":503,"message":"Service Unavailable"}}}}},"Timeout":{"description":"Gateway Timeout","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"example":{"control":{"type":"T","code":504,"message":"Gateway Timeout"}}}}}}}}
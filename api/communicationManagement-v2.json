{"openapi":"3.0.1","info":{"title":"Communication Management","version":"2.0.1"},"tags":[{"name":"communicationMessage"}],"paths":{"/listener/communicationMessage":{"post":{"tags":["communicationMessage"],"summary":"Communication Message Listener","operationId":"Communication Message Listener","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunicationMessage"},"examples":{"Comunicado de abertura de incidente de Rede (interrupção)":{"value":{"id":"194753","messageType":"Comunicado","company":"CP_XPTO","emissionDate":"2022-06-28T12:16:00","status":"Abertura","ticketNumber":"2023_019473","type":"Incidente","eventType":"Interrupção não programada","startDate":"2022-06-29T12:05:00","endDate":"2022-06-30T12:05:00","promiseDate":"2022-06-30T16:20:40","affectedService":{"type":"Banda Larga","address":[{"stateAbbreviation":"MA","locationAbbreviation":"SLS","locationCode":98000,"city":"SAO LUIS","cityCode":2111300,"location":"SAO LUIS","equipment":[{"olt":"MA-CTO04-GHUA","physicalPort":"1/1/7/14","primaryCable":"MA.CTO.F-7.CEO-15/1","ceos":"165","cdo":"CDOE-16535","secondaryCable":"MA.CTO.F-7.CEOS-165","station":"CTO","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202]}},{"olt":"MA-ITZ02-GHUA","physicalPort":"1/1/8/10","primaryCable":"MA.ITZ.F-3.CEO-7/2","ceos":"151","cdo":"CDOE-15125","secondaryCable":"MA.ITZ.F-3.CEOS-151","station":"ITZ","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}}]},{"stateAbbreviation":"PA","locationAbbreviation":"BLM","locationCode":91000,"city":"BELEM","cityCode":1501402,"location":"BELEM","equipment":[{"olt":"PA-CTO10-GHUA","physicalPort":"1/1/19/14","primaryCable":"PA.CTO.F-12.CEO-34/2","ceos":"338","cdo":"CDOE-33803","secondaryCable":"PA.CTO.CEOS-338.F-1.CDOE-33802","station":"CTO","affectedCustomers":{"subscriberId":[8022203,8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}},{"olt":"PA-CTO10-GHUA","physicalPort":"1/1/16/6","primaryCable":"PA.ICY.F-2.CEO-5/2","ceos":"107","cdo":"CDOE-10709","secondaryCable":"PA.ICY.CEOS-118.F-2.CDOE-11805","station":"ICY","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}}]}]}}},"Comunicado de abertura de incidente de Rede (congestionamento)":{"value":{"id":"210067783","messageType":"Comunicado","company":"CP_XPTO","emissionDate":"2022-06-28T12:16:00","status":"Abertura","ticketNumber":"43246567","type":"Incidente","eventType":"Lentidão","startDate":"2022-06-29T12:05:00","promiseDate":"2022-06-30T16:20:40","identifiedFailure":"Rompimento de cabo","affectedService":{"type":"Banda Larga","address":[{"stateAbbreviation":"MA","locationAbbreviation":"SLS","locationCode":98000,"city":"SAO LUIS","cityCode":2111300,"location":"SAO LUIS","equipment":[{"olt":"MA-CTO04-GHUA","station":"CTO","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202]}},{"olt":"MA-ITZ02-GHUA","station":"ITZ","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}}]},{"stateAbbreviation":"PA","locationAbbreviation":"BLM","locationCode":91000,"city":"BELEM","cityCode":1501402,"location":"BELEM","equipment":[{"olt":"PA-CTO10-GHUA","station":"CTO","affectedCustomers":{"subscriberId":[8022203,8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}},{"olt":"PA-CTO10-GHUA","station":"ICY","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}}]}]}}},"Comunicado de atualização de incidente de Rede (interrupção)":{"value":{"id":"210067783","messageType":"Comunicado","company":"CP_XPTO","emissionDate":"2022-06-28T12:16:00","status":"Atualização","ticketNumber":"43246567","type":"Incidente","eventType":"Interrupção não programada","startDate":"2022-06-29T12:05:00","endDate":"2022-06-30T12:05:00","promiseDate":"2022-06-30T16:20:40","downtime":"20","editionDate":"2022-06-29T12:05:00","editionReason":"Atualização do chamado","affectedService":{"type":"Banda Larga","address":[{"stateAbbreviation":"MA","locationAbbreviation":"SLS","locationCode":98000,"city":"SAO LUIS","cityCode":2111300,"location":"SAO LUIS","equipment":[{"olt":"MA-CTO04-GHUA","physicalPort":"1/1/7/14","primaryCable":"MA.CTO.F-7.CEO-15/1","ceos":"165","cdo":"CDOE-16535","secondaryCable":"MA.CTO.F-7.CEOS-165","station":"CTO","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202]}},{"olt":"MA-ITZ02-GHUA","physicalPort":"1/1/8/10","primaryCable":"MA.ITZ.F-3.CEO-7/2","ceos":"151","cdo":"CDOE-15125","secondaryCable":"MA.ITZ.F-3.CEOS-151","station":"ITZ","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}}]},{"stateAbbreviation":"PA","locationAbbreviation":"BLM","locationCode":91000,"city":"BELEM","cityCode":1501402,"location":"BELEM","equipment":[{"olt":"PA-CTO10-GHUA","physicalPort":"1/1/19/14","primaryCable":"PA.CTO.F-12.CEO-34/2","ceos":"338","cdo":"CDOE-33803","secondaryCable":"PA.CTO.CEOS-338.F-1.CDOE-33802","station":"CTO","affectedCustomers":{"subscriberId":[8022203,8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}},{"olt":"PA-CTO10-GHUA","physicalPort":"1/1/16/6","primaryCable":"PA.ICY.F-2.CEO-5/2","ceos":"107","cdo":"CDOE-10709","secondaryCable":"PA.ICY.CEOS-118.F-2.CDOE-11805","station":"ICY","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}}]}]}}},"Comunicado de atualização de incidente de Rede (congestionamento)":{"value":{"id":"210067783","messageType":"Comunicado","company":"CP_XPTO","emissionDate":"2022-06-28T12:16:00","status":"Atualização","ticketNumber":"43246567","type":"Incidente","eventType":"Lentidão","startDate":"2022-06-29T12:05:00","promiseDate":"2022-06-30T16:20:40","editionDate":"2022-06-29T12:05:00","downtime":"20","identifiedFailure":"Rompimento de cabo","affectedService":{"type":"Banda Larga","address":[{"stateAbbreviation":"MA","locationAbbreviation":"SLS","locationCode":98000,"city":"SAO LUIS","cityCode":2111300,"location":"SAO LUIS","equipment":[{"olt":"MA-CTO04-GHUA","station":"CTO","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202]}},{"olt":"MA-ITZ02-GHUA","station":"ITZ","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}}]},{"stateAbbreviation":"PA","locationAbbreviation":"BLM","locationCode":91000,"city":"BELEM","cityCode":1501402,"location":"BELEM","equipment":[{"olt":"PA-CTO10-GHUA","station":"CTO","affectedCustomers":{"subscriberId":[8022203,8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}},{"olt":"PA-CTO10-GHUA","station":"ICY","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}}]}]}}},"Comunicado de cancelamento de incidente Rede (interrupção)":{"value":{"id":"210067783","messageType":"Comunicado","company":"CP_XPTO","emissionDate":"2022-06-28T12:16:00","status":"Cancelamento","ticketNumber":"43246567","type":"Incidente","eventType":"Interrupção não programada","cancelDate":"2022-06-29T12:05:00","cancelReason":"Atualização do chamado","affectedService":{"type":"Banda Larga"}}},"Comunicado de cancelamento de incidente Rede (congestionamento)":{"value":{"id":"210067783","messageType":"Comunicado","company":"CP_XPTO","emissionDate":"2022-06-28T12:16:00","status":"Cancelamento","ticketNumber":"43246567","type":"Incidente","eventType":"Lentidão","endDate":"2022-06-29T12:05:00","cancelDate":"2022-06-29T12:05:00","identifiedFailure":"Rompimento de cabo","affectedService":{"type":"Banda Larga"}}},"Comunicado de finalização do incidente Rede (interrupção)":{"value":{"id":"210067783","messageType":"Comunicado","company":"CP_XPTO","emissionDate":"2022-06-28T12:16:00","status":"Finalização","ticketNumber":"43246567","type":"Incidente","eventType":"Interrupção não programada","startDate":"2022-06-29T12:05:00","endDate":"2022-06-30T12:05:00","closureDate":"2022-06-30T12:05:00","closureMotive":"Atualização do chamado","promiseDate":"2022-06-30T16:20:40","downtime":"20","closureCause":"01","closureReason":"02","closureProvidence":"03","affectedService":{"type":"Banda Larga"}}},"Comunicado de finalização do incidente Rede(congestionamento)":{"value":{"id":"210067783","messageType":"Comunicado","company":"CP_XPTO","emissionDate":"2022-06-28T12:16:00","status":"Finalização","ticketNumber":"43246567","type":"Incidente","eventType":"Lentidão","closureDate":"2022-06-29T12:05:00","endDate":"2022-06-29T12:05:00","downtime":"20","identifiedFailure":"Rompimento de cabo","affectedService":{"type":"Banda Larga"}}},"Comunicado de abertura de manutenção de Rede":{"value":{"id":"210067783","messageType":"Comunicado","company":"CP_XPTO","openingDate":"2022-06-28T12:16:00","status":"Abertura","type":"Manutenção","loss":"yes","networkType":"VLAN","windowType":"Interrupção programada","promiseStartDate":"2022-06-29T12:05:00","promiseEndDate":"2022-06-30T12:05:00","estimatedDowntime":"5","reason":"Reparo","detailedReason":"Reparo em equipamentos (CDO)","generalStatus":"Aguardando aprovação","affectedStretch":"Região central","affectedService":{"type":"Banda Larga","address":[{"stateAbbreviation":"AM","locationAbbreviation":"MNS","locationCode":92000,"city":"MANAUS","cityCode":2111300,"locationName":"MANAUS (MNS)","equipment":[{"olt":"AM-PA01-GALC","physicalPort":"1/1/3/3","primaryCable":"PA-ARENA/01","ceos":"3","cdo":"CDOE-315","secondaryCable":"AM.PA.F-1.CEOS-3","station":"PA","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202]}},{"olt":"AM-PA01-GALC","physicalPort":"1/1/16/15","primaryCable":"AM.PA.F-3.CEO-4/1","ceos":"44","cdo":"CDOE-4415","secondaryCable":"AM.PA.F-3.CEOS-44","station":"PA","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}}]},{"stateAbbreviation":"PE","locationAbbreviation":"OLD","locationCode":81103,"city":"OLINDA","cityCode":2609600,"locationName":"OLINDA (OLD)","equipment":[{"olt":"PE-ECCA3-GALC","physicalPort":"1/1/19/14","primaryCable":"PE.ECCA.F-5.CEO-8/2","ceos":"126","cdo":"CDOE-12604","secondaryCable":"PE.ECCA.F-5.CEOS-126","station":"ECCA","affectedCustomers":{"subscriberId":[8022203,8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}},{"olt":"PE-ECCA4-GALC","physicalPort":"1/1/12/7","primaryCable":"PE.ECCA.F-7.CEO-18/1","ceos":"168","cdo":"CDOI-16812","secondaryCable":"PE.ECCA.F-7.CEOS-168","station":"ECCA","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}}]}]}}},"Comunicado de atualização de manutenção de Rede":{"value":{"id":"210067783","messageType":"Comunicado","company":"CP_XPTO","openingDate":"2022-06-28T12:16:00","status":"Atualização","type":"Manutenção","loss":"yes","networkType":"VLAN","windowType":"Interrupção programada","promiseStartDate":"2022-06-29T12:05:00","promiseEndDate":"2022-06-30T12:05:00","estimatedDowntime":"5","reason":"Reparo","detailedReason":"Reparo em equipamentos (CDO)","generalStatus":"Aguardando aprovação","affectedStretch":"Região central","affectedService":{"type":"Banda Larga","address":[{"stateAbbreviation":"AM","locationAbbreviation":"MNS","locationCode":92000,"city":"MANAUS","cityCode":2111300,"locationName":"MANAUS (MNS)","equipment":[{"olt":"AM-PA01-GALC","physicalPort":"1/1/3/3","primaryCable":"PA-ARENA/01","ceos":"3","cdo":"CDOE-315","secondaryCable":"AM.PA.F-1.CEOS-3","station":"PA","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202]}},{"olt":"AM-PA01-GALC","physicalPort":"1/1/16/15","primaryCable":"AM.PA.F-3.CEO-4/1","ceos":"44","cdo":"CDOE-4415","secondaryCable":"AM.PA.F-3.CEOS-44","station":"PA","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}}]},{"stateAbbreviation":"PE","locationAbbreviation":"OLD","locationCode":81103,"city":"OLINDA","cityCode":2609600,"locationName":"OLINDA (OLD)","equipment":[{"olt":"PE-ECCA3-GALC","physicalPort":"1/1/19/14","primaryCable":"PE.ECCA.F-5.CEO-8/2","ceos":"126","cdo":"CDOE-12604","secondaryCable":"PE.ECCA.F-5.CEOS-126","station":"ECCA","affectedCustomers":{"subscriberId":[8022203,8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}},{"olt":"PE-ECCA4-GALC","physicalPort":"1/1/12/7","primaryCable":"PE.ECCA.F-7.CEO-18/1","ceos":"168","cdo":"CDOI-16812","secondaryCable":"PE.ECCA.F-7.CEOS-168","station":"ECCA","affectedCustomers":{"subscriberId":[8022201,8022202,8022203,8022201,8022202,8022203,8022201,8022202,8022203]}}]}]}}},"Comunicado de cancelamento de manutenção de Rede":{"value":{"id":"210067783","messageType":"Comunicado","company":"CP_XPTO","status":"Cancelamento","type":"Manutenção","cancelReason":"Normalização do sistema"}},"Comunicado de finalização de manutenção de Rede":{"value":{"id":"210067783","messageType":"Comunicado","company":"CP_XPTO","openingDate":"2022-06-28T12:16:00","closingDate":"2022-06-30T12:16:00","status":"Atualização","type":"Manutenção","loss":"yes","networkType":"VLAN","windowType":"Interrupção programada","promiseStartDate":"2022-06-29T12:05:00","promiseEndDate":"2022-06-30T12:05:00","startDate":"2022-06-29T12:05:00","endDate":"2022-06-30T12:05:00","estimatedDowntime":"5","generalStatus":"Encerrada com sucesso","affectedStretch":"Região central","closureCause":"01","closureReason":"02","closureProvidence":"03","affectedService":{"type":"Banda Larga"}}}}}}},"responses":{"204":{"description":"Operação realizada com sucesso"},"400":{"description":"BadRequest"},"401":{"description":"Unauthorized"},"500":{"description":"ServerError"},"503":{"description":"Unavailable"},"504":{"description":"Timeout"}}}}},"components":{"schemas":{"CommunicationMessage":{"type":"object","properties":{"id":{"type":"string","description":"ID do comunicado","maxLength":15},"messageType":{"type":"string","description":"Tipo de notificação","enum":["Comunicado"],"maxLength":10},"company":{"type":"string","description":"Nome da companhia impactada","maxLength":50},"openingDate":{"type":"string","format":"date-time","description":"Data da abertura do comunicado","maxLength":25},"closingDate":{"type":"string","format":"date-time","description":"Data da fechamento do comunicado","maxLength":25},"emissionDate":{"type":"string","format":"date-time","description":"Data de emissão do comunicado","maxLength":25},"status":{"type":"string","description":"Etapa do incidente ou da manutenção","enum":["Abertura","Atualização","Cancelamento","Finalização"],"maxLength":15},"ticketNumber":{"type":"string","description":"ID do bilhete de atendimento","maxLength":15},"type":{"type":"string","description":"Tipo de comunicado","enum":["Incidente","Manutenção"],"maxLength":15},"eventType":{"type":"string","description":"Tipo de evento do comunicado","enum":["Interrupção não programada","Lentidão"],"maxLength":50},"loss":{"type":"string","description":"Indicador de perda","maxLength":50},"networkType":{"type":"string","description":"Tipo de rede afetada","maxLength":50},"windowType":{"type":"string","description":"Tipo de janela do comunicado","maxLength":50},"promiseStartDate":{"type":"string","format":"date-time","description":"Data / hora de previsão do início de atividade informada no comunicado","maxLength":25},"promiseEndDate":{"type":"string","format":"date-time","description":"Data / hora de previsão do fim de atividade informada no comunicado"},"startDate":{"type":"string","format":"date-time","description":"Data / hora de início de atividade informada no comunicado","maxLength":25},"endDate":{"type":"string","format":"date-time","description":"Data / hora do fim de atividade informada no comunicado","maxLength":25},"promiseDate":{"type":"string","format":"date-time","description":"Data / hora de fim estimado de atividade informada no comunicado","maxLength":25},"editionDate":{"type":"string","format":"date-time","description":"Data / hora da última edição do comunicado","maxLength":25},"editionReason":{"type":"string","description":"Motivo da edição do comunicado","maxLength":255},"cancelDate":{"type":"string","format":"date-time","description":"Data / hora do cancelamento do comunicado","maxLength":25},"cancelReason":{"type":"string","description":"Motivo do cancelamento do comunicado","maxLength":255},"closureDate":{"type":"string","format":"date-time","description":"Data / hora do encerramento do comunicado","maxLength":25},"closureMotive":{"type":"string","description":"Motivo do encerramento do comunicado","maxLength":255},"downtime":{"type":"string","description":"Tempo de indisponibilidade","maxLength":25},"estimatedDowntime":{"type":"string","description":"Tempo estimado de indisponibilidade","maxLength":25},"reason":{"type":"string","description":"Motivo de abertura da janela de manutenção","maxLength":50},"detailedReason":{"type":"string","description":"Detalhamento do motivo de abertura da janela de manutenção","maxLength":255},"generalStatus":{"type":"string","description":"Status geral da manutenção","maxLength":50},"affectedStretch":{"type":"string","description":"Trecho ou região afetada","maxLength":50},"identifiedFailure":{"type":"string","description":"Falha identificada para a funcionalidade, serviço ou produto impactado","maxLength":255},"closureCause":{"type":"string","description":"Causa raiz do encerramento do incidente.","maxLength":3},"closureReason":{"type":"string","description":"Motivo do encerramentodo incidente.","maxLength":3},"closureProvidence":{"type":"string","description":"Providência do encerramento para a resolução do incidente.","maxLength":3},"affectedService":{"$ref":"#/components/schemas/AffectedService"}}},"AffectedService":{"type":"object","properties":{"type":{"type":"string","enum":["Banda Larga","VOIP","IPTV"],"description":"Nome da funcionalidade, serviço ou produto impactado","maxLength":100},"address":{"type":"array","items":{"$ref":"#/components/schemas/Address"},"description":"Lista de endereços dos equipamentos afetados"}}},"Address":{"type":"object","properties":{"stateAbbreviation":{"type":"string","description":"Sigla do estado","maxLength":2},"locationAbbreviation":{"type":"string","description":"Sigla da localidade","maxLength":5},"locationCode":{"type":"string","description":"Código da localidade","maxLength":10},"city":{"type":"string","description":"Nome da cidade","maxLength":40},"cityCode":{"type":"string","description":"Código da cidade","maxLength":15},"location":{"type":"string","description":"Nome da localidade","maxLength":40},"locationName":{"type":"string","description":"Nome e sigla da localidade","maxLength":40},"equipment":{"type":"array","items":{"$ref":"#/components/schemas/Equipment"},"description":"Lista dos equipamentos afetados"}}},"Equipment":{"type":"object","properties":{"olt":{"type":"string","maxLength":50},"physicalPort":{"type":"string","maxLength":20},"primaryCable":{"type":"string","maxLength":50},"ceos":{"type":"string","maxLength":20},"cdo":{"type":"string","maxLength":20},"secondaryCable":{"type":"string","maxLength":50},"station":{"type":"string","maxLength":20},"affectedCustomers":{"type":"array","items":{"$ref":"#/components/schemas/AffectedCustomers"},"description":"Lista dos clientes afetados por equipamento"}}},"AffectedCustomers":{"type":"object","properties":{"subscriberId":{"type":"array","items":{"type":"string","maxLength":50,"description":"Número do Contrato do cliente"}}}},"AttachmentType":{"title":"Attachment","type":"object","properties":{"attachmentType":{"type":"string","description":"Tipo de anexo","maxLength":50},"name":{"type":"string","description":"Nome do anexo","enum":["AffectedEquipments","AffectedCustomers"],"maxLength":50},"description":{"type":"string","description":"Um texto narrativo descrevendo o conteúdo do anexo","maxLength":255},"mimeType":{"type":"string","description":"Tipo mime de anexo, como arquivo de extensão para vídeo, imagem e documento","maxLength":100},"url":{"type":"string","description":"Localizador uniforme de recursos, é um endereço de página da Web (um subconjunto de URI)","maxLength":255},"validFor":{"$ref":"#/components/schemas/TimePeriod"}}},"TimePeriod":{"title":"TimePeriod","type":"object","description":"Um período de tempo, como prazo","properties":{"startDateTime":{"type":"string","format":"date-time","description":"Início do período de tempo","maxLength":25},"endDateTime":{"type":"string","format":"date-time","description":"Fim do período de tempo","maxLength":25}}}}}}